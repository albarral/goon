<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>goon: retinal_vision/src/goon/retinal/Floodfiller.h Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="migtron_logo.jpg"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">goon
   &#160;<span id="projectnumber">0.1</span>
   </div>
   <div id="projectbrief">Family of C++ libraries for development of robotic vision applications</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_1381a70b1cc540f254b527193cbc2be0.html">retinal_vision</a></li><li class="navelem"><a class="el" href="dir_ce5746ae69c164ecb9c6abaee44fb345.html">src</a></li><li class="navelem"><a class="el" href="dir_fd032bc8cbaeda309b7334fae6f70fa7.html">goon</a></li><li class="navelem"><a class="el" href="dir_b0431c15658ddc90b0eea36079e394b5.html">retinal</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">Floodfiller.h</div>  </div>
</div><!--header-->
<div class="contents">
<a href="Floodfiller_8h.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="preprocessor">#ifndef __GOON_RETINAL_FLOODFILLER_H</span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="preprocessor"></span><span class="preprocessor">#define __GOON_RETINAL_FLOODFILLER_H</span></div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment">/***************************************************************************</span></div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment"> *   Copyright (C) 2016 by Migtron Robotics   *</span></div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment"> *   albarral@migtron.com   *</span></div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment"> ***************************************************************************/</span></div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;</div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="preprocessor">#include &lt;thread&gt;</span></div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="preprocessor">#include &lt;mutex&gt;</span></div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="preprocessor">#include &lt;deque&gt;</span></div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="preprocessor">#include &quot;opencv2/core/core.hpp&quot;</span></div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="preprocessor">#include &lt;log4cxx/logger.h&gt;</span></div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;</div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="trigger_8h.html">goon/utils/trigger.h</a>&gt;</span></div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Exploration_8h.html">goon/retinal/Exploration.h</a>&quot;</span></div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="ColorGrid_8h.html">goon/retinal/ColorGrid.h</a>&quot;</span></div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="HSVEssence_8h.html">goon/retinal/HSVEssence.h</a>&quot;</span></div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;</div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="comment">// This class extracts a color homogenous region from an image beginning with a single seed pixel.</span></div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="comment">// It runs in its own thread, allowing simultaneous extraction of multiple regions.</span></div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="comment">// It works doing a floodfill process (an expansion to adjacent pixels with similar color) from the specified seed. </span></div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="comment">// For the color similarity both the RGB and HSV spaces are used.</span></div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="comment">// The expansion is limited by a forbidden mask, used to avoid overlapping of extracted regions.</span></div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="comment">// OUTPUT: The extracted region is represented by a mask and main color.</span></div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="comment">// IMPORTANT: It uses a color grid to allow the handling of soft color evolutions within a region.</span></div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="comment">// DRAWBACKS: In blurred images undesired region overflows may appear due to uncontrolled color evolutions. </span></div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="comment">// ON RESEARCH: An HSV color essence module is being tested to help avoid these overflows (uses the HSV color space). </span></div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="keyword">namespace </span>goon</div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;{</div>
<div class="line"><a name="l00031"></a><span class="lineno"><a class="line" href="classgoon_1_1Floodfiller.html">   31</a></span>&#160;<span class="keyword">class </span><a class="code" href="classgoon_1_1Floodfiller.html">Floodfiller</a></div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;{</div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;<span class="keyword">public</span>:</div>
<div class="line"><a name="l00034"></a><span class="lineno"><a class="line" href="classgoon_1_1Floodfiller.html#a8c91f60ef755ca415df4f84f32bab18a">   34</a></span>&#160;    <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code" href="classgoon_1_1Floodfiller.html#a8c91f60ef755ca415df4f84f32bab18a">GRID_STEP</a> = 10;        <span class="comment">// pixel size of nodes in color grid </span></div>
<div class="line"><a name="l00035"></a><span class="lineno"><a class="line" href="classgoon_1_1Floodfiller.html#ac33f104ef76180ed9afafec027358743">   35</a></span>&#160;    <span class="keyword">enum</span> <a class="code" href="classgoon_1_1Floodfiller.html#ac33f104ef76180ed9afafec027358743">eState</a></div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;    {</div>
<div class="line"><a name="l00037"></a><span class="lineno"><a class="line" href="classgoon_1_1Floodfiller.html#ac33f104ef76180ed9afafec027358743a327e239c33a7e8c92baa37b42c1b27f1">   37</a></span>&#160;        <a class="code" href="classgoon_1_1Floodfiller.html#ac33f104ef76180ed9afafec027358743a327e239c33a7e8c92baa37b42c1b27f1">eFF_OFF</a>,            <span class="comment">// not initialized</span></div>
<div class="line"><a name="l00038"></a><span class="lineno"><a class="line" href="classgoon_1_1Floodfiller.html#ac33f104ef76180ed9afafec027358743a63babc2b7ed25c1fd2a3008cb5448879">   38</a></span>&#160;        <a class="code" href="classgoon_1_1Floodfiller.html#ac33f104ef76180ed9afafec027358743a63babc2b7ed25c1fd2a3008cb5448879">eFF_READY</a>,        <span class="comment">// ready for a new action</span></div>
<div class="line"><a name="l00039"></a><span class="lineno"><a class="line" href="classgoon_1_1Floodfiller.html#ac33f104ef76180ed9afafec027358743a8b195061989c146f34446260146aa1a5">   39</a></span>&#160;        <a class="code" href="classgoon_1_1Floodfiller.html#ac33f104ef76180ed9afafec027358743a8b195061989c146f34446260146aa1a5">eFF_ON</a>,             <span class="comment">// running a new action</span></div>
<div class="line"><a name="l00040"></a><span class="lineno"><a class="line" href="classgoon_1_1Floodfiller.html#ac33f104ef76180ed9afafec027358743adfaf8aa02155a2f020b6c2ae000e74d0">   40</a></span>&#160;        <a class="code" href="classgoon_1_1Floodfiller.html#ac33f104ef76180ed9afafec027358743adfaf8aa02155a2f020b6c2ae000e74d0">eFF_FINISHED</a>     <span class="comment">// last action finished </span></div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;    };</div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;    </div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;<span class="keyword">private</span>:</div>
<div class="line"><a name="l00044"></a><span class="lineno"><a class="line" href="classgoon_1_1Floodfiller.html#aa22bcf00c31ca313538b0a98f40bbbfa">   44</a></span>&#160;    <span class="keyword">static</span> log4cxx::LoggerPtr <a class="code" href="classgoon_1_1Floodfiller.html#aa22bcf00c31ca313538b0a98f40bbbfa">logger</a>;</div>
<div class="line"><a name="l00045"></a><span class="lineno"><a class="line" href="classgoon_1_1Floodfiller.html#a62ec6d87d7fd44e12a46d2baa2b48cbd">   45</a></span>&#160;    std::mutex <a class="code" href="classgoon_1_1Floodfiller.html#a62ec6d87d7fd44e12a46d2baa2b48cbd">mutex</a>;</div>
<div class="line"><a name="l00046"></a><span class="lineno"><a class="line" href="classgoon_1_1Floodfiller.html#a58c822529012caca169601ea7c195b87">   46</a></span>&#160;    std::thread <a class="code" href="classgoon_1_1Floodfiller.html#a58c822529012caca169601ea7c195b87">t</a>;              <span class="comment">// the thread container</span></div>
<div class="line"><a name="l00047"></a><span class="lineno"><a class="line" href="classgoon_1_1Floodfiller.html#a7ff3344a3615b0d93615584de2f9dc62">   47</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="classgoon_1_1Floodfiller.html#a7ff3344a3615b0d93615584de2f9dc62">state</a>;          </div>
<div class="line"><a name="l00048"></a><span class="lineno"><a class="line" href="classgoon_1_1Floodfiller.html#a90eebc801a76062fc1d19e8012ac2bd2">   48</a></span>&#160;    <a class="code" href="classgoon_1_1Exploration.html">Exploration</a> <a class="code" href="classgoon_1_1Floodfiller.html#a90eebc801a76062fc1d19e8012ac2bd2">oExploration</a>;   <span class="comment">// class for image exploration (owns mask_explored and mask_region)       </span></div>
<div class="line"><a name="l00049"></a><span class="lineno"><a class="line" href="classgoon_1_1Floodfiller.html#aca203aeb870be027fc04b0b62bd28673">   49</a></span>&#160;    <a class="code" href="classgoon_1_1ColorGrid.html">ColorGrid</a> <a class="code" href="classgoon_1_1Floodfiller.html#aca203aeb870be027fc04b0b62bd28673">oColorGrid</a>;        <span class="comment">// class for handling the region&#39;s local color</span></div>
<div class="line"><a name="l00050"></a><span class="lineno"><a class="line" href="classgoon_1_1Floodfiller.html#a2e83f283bcd296972f4f7a5042d941de">   50</a></span>&#160;    <a class="code" href="classgoon_1_1HSVEssence.html">HSVEssence</a> <a class="code" href="classgoon_1_1Floodfiller.html#a2e83f283bcd296972f4f7a5042d941de">oHSVEssence</a>; <span class="comment">// class for handling the region&#39;s central color</span></div>
<div class="line"><a name="l00051"></a><span class="lineno"><a class="line" href="classgoon_1_1Floodfiller.html#aa2089ef9d9e2f682903be26002c2a6a0">   51</a></span>&#160;    <a class="code" href="classgoon_1_1Trigger.html">Trigger</a> <a class="code" href="classgoon_1_1Floodfiller.html#aa2089ef9d9e2f682903be26002c2a6a0">oSizeTrigger</a>;</div>
<div class="line"><a name="l00052"></a><span class="lineno"><a class="line" href="classgoon_1_1Floodfiller.html#a1d6a0c11926ce31a10a7d567d9e8e938">   52</a></span>&#160;    cv::Point <a class="code" href="classgoon_1_1Floodfiller.html#a1d6a0c11926ce31a10a7d567d9e8e938">seed</a>;             <span class="comment">// initial seed </span></div>
<div class="line"><a name="l00053"></a><span class="lineno"><a class="line" href="classgoon_1_1Floodfiller.html#ab825c9e62e3ab1c05bdec59ee16a5d96">   53</a></span>&#160;    cv::Mat <a class="code" href="classgoon_1_1Floodfiller.html#ab825c9e62e3ab1c05bdec59ee16a5d96">image_cam</a>;      <span class="comment">// input image (RGB))</span></div>
<div class="line"><a name="l00054"></a><span class="lineno"><a class="line" href="classgoon_1_1Floodfiller.html#a558e35bb49d2cfd4a5f99c7644b60d9a">   54</a></span>&#160;    cv::Mat <a class="code" href="classgoon_1_1Floodfiller.html#a558e35bb49d2cfd4a5f99c7644b60d9a">image_hsv</a>;       <span class="comment">// input image (HSV)   </span></div>
<div class="line"><a name="l00055"></a><span class="lineno"><a class="line" href="classgoon_1_1Floodfiller.html#ad576810c5985ea67aeab7c4e0d8674ba">   55</a></span>&#160;    std::deque&lt;cv::Point&gt; <a class="code" href="classgoon_1_1Floodfiller.html#ad576810c5985ea67aeab7c4e0d8674ba">deq_floodfill</a>;  <span class="comment">// list of pixels to which the region may expand (starts with only the seed)</span></div>
<div class="line"><a name="l00056"></a><span class="lineno"><a class="line" href="classgoon_1_1Floodfiller.html#af3154e887400eaa0a2717eba19a4ebba">   56</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="classgoon_1_1Floodfiller.html#af3154e887400eaa0a2717eba19a4ebba">num_pixels</a>;</div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;    <span class="comment">// for debug</span></div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;    <span class="comment">//bool bdebug;</span></div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;    <span class="comment">//SDebug oDebug;    </span></div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;</div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;<span class="keyword">public</span>:</div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;    <a class="code" href="classgoon_1_1Floodfiller.html#a8c6a29e02576fe80e364e4f4ce63ac64">Floodfiller</a>();</div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;    <a class="code" href="classgoon_1_1Floodfiller.html#ae41306e2f807c08973b4d0d65a3fb4f8">~Floodfiller</a>();</div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;</div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;    <span class="comment">// Initializes the module and auxiliary classes. </span></div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;    <span class="comment">// The module will not work if not first initialized.</span></div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="classgoon_1_1Floodfiller.html#a3d1cc499a864e3f64394ab3e25129a4f">init</a>(cv::Mat&amp; mask_segmented);</div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;    <span class="comment">// run a region extraction from the given seed</span></div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="classgoon_1_1Floodfiller.html#a4ddfd069fa4e99be7846147473bb1373">run</a>(cv::Point&amp; <a class="code" href="classgoon_1_1Floodfiller.html#a1d6a0c11926ce31a10a7d567d9e8e938">seed</a>, cv::Mat&amp; <a class="code" href="classgoon_1_1Floodfiller.html#ab825c9e62e3ab1c05bdec59ee16a5d96">image_cam</a>, cv::Mat&amp; <a class="code" href="classgoon_1_1Floodfiller.html#a558e35bb49d2cfd4a5f99c7644b60d9a">image_hsv</a>);</div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;</div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;    <span class="comment">// checks for different module states (thread safe)</span></div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="classgoon_1_1Floodfiller.html#ad54240ddb63a68aec05cc55bcb443c67">isReady</a>();</div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="classgoon_1_1Floodfiller.html#a76845020ff89e97faf1e910122d26b32">isOn</a>();</div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="classgoon_1_1Floodfiller.html#a3b331258628f55384e5d539c5722876b">isFinished</a>();</div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;    </div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;    <span class="comment">// get features of the extracted region</span></div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="classgoon_1_1Floodfiller.html#a38edac3a2ac9b84d2a5a55ecdfbad6ef">getRegionArea</a>();</div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;    cv::Mat&amp; <a class="code" href="classgoon_1_1Floodfiller.html#a13ee623d4f2f885bef0b8364f4af32f6">getRegionMask</a>();</div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;    cv::Rect&amp; <a class="code" href="classgoon_1_1Floodfiller.html#a230ed71a7ded24b6d0acd71c2b30cf2b">getRegionWindow</a>();</div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;    cv::Vec3f&amp; <a class="code" href="classgoon_1_1Floodfiller.html#ac10fcb67a9f95d55d39505b4ce8b3c7d">getRegionColor</a>();</div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;    </div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;<span class="keyword">private</span>:</div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;    <span class="comment">// sets the module state (thread safe)</span></div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="classgoon_1_1Floodfiller.html#a6f83ca7ae9bcd2ed68d642c691cae2fd">setState</a>(<span class="keywordtype">int</span> value);</div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;    <span class="comment">// KEY FUNCTION OF THE RETINAL VISION PROCESS</span></div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;    <span class="comment">// Expands a region with homogeneous color from the specified seed. </span></div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="classgoon_1_1Floodfiller.html#a95b3e2eef1b5b56784f3be01577243be">floodFill</a>();</div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;</div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;    <span class="comment">// shows the present state of the segmentation process in an image for debugging (segmented pixels, computed colors ...)  </span></div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;    <span class="comment">//void showProgress();</span></div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;};</div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;                          </div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;}  </div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;  </div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="ttc" id="classgoon_1_1Floodfiller_html_ab825c9e62e3ab1c05bdec59ee16a5d96"><div class="ttname"><a href="classgoon_1_1Floodfiller.html#ab825c9e62e3ab1c05bdec59ee16a5d96">goon::Floodfiller::image_cam</a></div><div class="ttdeci">cv::Mat image_cam</div><div class="ttdef"><b>Definition:</b> Floodfiller.h:53</div></div>
<div class="ttc" id="ColorGrid_8h_html"><div class="ttname"><a href="ColorGrid_8h.html">ColorGrid.h</a></div></div>
<div class="ttc" id="classgoon_1_1Floodfiller_html_a230ed71a7ded24b6d0acd71c2b30cf2b"><div class="ttname"><a href="classgoon_1_1Floodfiller.html#a230ed71a7ded24b6d0acd71c2b30cf2b">goon::Floodfiller::getRegionWindow</a></div><div class="ttdeci">cv::Rect &amp; getRegionWindow()</div><div class="ttdef"><b>Definition:</b> Floodfiller.cpp:207</div></div>
<div class="ttc" id="classgoon_1_1Floodfiller_html_ac33f104ef76180ed9afafec027358743a63babc2b7ed25c1fd2a3008cb5448879"><div class="ttname"><a href="classgoon_1_1Floodfiller.html#ac33f104ef76180ed9afafec027358743a63babc2b7ed25c1fd2a3008cb5448879">goon::Floodfiller::eFF_READY</a></div><div class="ttdef"><b>Definition:</b> Floodfiller.h:38</div></div>
<div class="ttc" id="classgoon_1_1Floodfiller_html_aca203aeb870be027fc04b0b62bd28673"><div class="ttname"><a href="classgoon_1_1Floodfiller.html#aca203aeb870be027fc04b0b62bd28673">goon::Floodfiller::oColorGrid</a></div><div class="ttdeci">ColorGrid oColorGrid</div><div class="ttdef"><b>Definition:</b> Floodfiller.h:49</div></div>
<div class="ttc" id="classgoon_1_1Floodfiller_html_a2e83f283bcd296972f4f7a5042d941de"><div class="ttname"><a href="classgoon_1_1Floodfiller.html#a2e83f283bcd296972f4f7a5042d941de">goon::Floodfiller::oHSVEssence</a></div><div class="ttdeci">HSVEssence oHSVEssence</div><div class="ttdef"><b>Definition:</b> Floodfiller.h:50</div></div>
<div class="ttc" id="classgoon_1_1Floodfiller_html_a38edac3a2ac9b84d2a5a55ecdfbad6ef"><div class="ttname"><a href="classgoon_1_1Floodfiller.html#a38edac3a2ac9b84d2a5a55ecdfbad6ef">goon::Floodfiller::getRegionArea</a></div><div class="ttdeci">int getRegionArea()</div><div class="ttdef"><b>Definition:</b> Floodfiller.cpp:197</div></div>
<div class="ttc" id="classgoon_1_1Floodfiller_html_a3d1cc499a864e3f64394ab3e25129a4f"><div class="ttname"><a href="classgoon_1_1Floodfiller.html#a3d1cc499a864e3f64394ab3e25129a4f">goon::Floodfiller::init</a></div><div class="ttdeci">void init(cv::Mat &amp;mask_segmented)</div><div class="ttdef"><b>Definition:</b> Floodfiller.cpp:32</div></div>
<div class="ttc" id="classgoon_1_1Floodfiller_html_a1d6a0c11926ce31a10a7d567d9e8e938"><div class="ttname"><a href="classgoon_1_1Floodfiller.html#a1d6a0c11926ce31a10a7d567d9e8e938">goon::Floodfiller::seed</a></div><div class="ttdeci">cv::Point seed</div><div class="ttdef"><b>Definition:</b> Floodfiller.h:52</div></div>
<div class="ttc" id="classgoon_1_1Exploration_html"><div class="ttname"><a href="classgoon_1_1Exploration.html">goon::Exploration</a></div><div class="ttdef"><b>Definition:</b> Exploration.h:15</div></div>
<div class="ttc" id="classgoon_1_1Floodfiller_html_af3154e887400eaa0a2717eba19a4ebba"><div class="ttname"><a href="classgoon_1_1Floodfiller.html#af3154e887400eaa0a2717eba19a4ebba">goon::Floodfiller::num_pixels</a></div><div class="ttdeci">int num_pixels</div><div class="ttdef"><b>Definition:</b> Floodfiller.h:56</div></div>
<div class="ttc" id="classgoon_1_1HSVEssence_html"><div class="ttname"><a href="classgoon_1_1HSVEssence.html">goon::HSVEssence</a></div><div class="ttdef"><b>Definition:</b> HSVEssence.h:26</div></div>
<div class="ttc" id="classgoon_1_1Floodfiller_html_ad54240ddb63a68aec05cc55bcb443c67"><div class="ttname"><a href="classgoon_1_1Floodfiller.html#ad54240ddb63a68aec05cc55bcb443c67">goon::Floodfiller::isReady</a></div><div class="ttdeci">bool isReady()</div><div class="ttdef"><b>Definition:</b> Floodfiller.cpp:179</div></div>
<div class="ttc" id="classgoon_1_1Floodfiller_html_a4ddfd069fa4e99be7846147473bb1373"><div class="ttname"><a href="classgoon_1_1Floodfiller.html#a4ddfd069fa4e99be7846147473bb1373">goon::Floodfiller::run</a></div><div class="ttdeci">int run(cv::Point &amp;seed, cv::Mat &amp;image_cam, cv::Mat &amp;image_hsv)</div><div class="ttdef"><b>Definition:</b> Floodfiller.cpp:51</div></div>
<div class="ttc" id="classgoon_1_1Floodfiller_html_a90eebc801a76062fc1d19e8012ac2bd2"><div class="ttname"><a href="classgoon_1_1Floodfiller.html#a90eebc801a76062fc1d19e8012ac2bd2">goon::Floodfiller::oExploration</a></div><div class="ttdeci">Exploration oExploration</div><div class="ttdef"><b>Definition:</b> Floodfiller.h:48</div></div>
<div class="ttc" id="classgoon_1_1Floodfiller_html_a95b3e2eef1b5b56784f3be01577243be"><div class="ttname"><a href="classgoon_1_1Floodfiller.html#a95b3e2eef1b5b56784f3be01577243be">goon::Floodfiller::floodFill</a></div><div class="ttdeci">void floodFill()</div><div class="ttdef"><b>Definition:</b> Floodfiller.cpp:72</div></div>
<div class="ttc" id="classgoon_1_1Floodfiller_html_ac33f104ef76180ed9afafec027358743"><div class="ttname"><a href="classgoon_1_1Floodfiller.html#ac33f104ef76180ed9afafec027358743">goon::Floodfiller::eState</a></div><div class="ttdeci">eState</div><div class="ttdef"><b>Definition:</b> Floodfiller.h:35</div></div>
<div class="ttc" id="HSVEssence_8h_html"><div class="ttname"><a href="HSVEssence_8h.html">HSVEssence.h</a></div></div>
<div class="ttc" id="classgoon_1_1Floodfiller_html_ad576810c5985ea67aeab7c4e0d8674ba"><div class="ttname"><a href="classgoon_1_1Floodfiller.html#ad576810c5985ea67aeab7c4e0d8674ba">goon::Floodfiller::deq_floodfill</a></div><div class="ttdeci">std::deque&lt; cv::Point &gt; deq_floodfill</div><div class="ttdef"><b>Definition:</b> Floodfiller.h:55</div></div>
<div class="ttc" id="classgoon_1_1Floodfiller_html_aa2089ef9d9e2f682903be26002c2a6a0"><div class="ttname"><a href="classgoon_1_1Floodfiller.html#aa2089ef9d9e2f682903be26002c2a6a0">goon::Floodfiller::oSizeTrigger</a></div><div class="ttdeci">Trigger oSizeTrigger</div><div class="ttdef"><b>Definition:</b> Floodfiller.h:51</div></div>
<div class="ttc" id="trigger_8h_html"><div class="ttname"><a href="trigger_8h.html">trigger.h</a></div></div>
<div class="ttc" id="classgoon_1_1Floodfiller_html_a62ec6d87d7fd44e12a46d2baa2b48cbd"><div class="ttname"><a href="classgoon_1_1Floodfiller.html#a62ec6d87d7fd44e12a46d2baa2b48cbd">goon::Floodfiller::mutex</a></div><div class="ttdeci">std::mutex mutex</div><div class="ttdef"><b>Definition:</b> Floodfiller.h:45</div></div>
<div class="ttc" id="classgoon_1_1Floodfiller_html_ae41306e2f807c08973b4d0d65a3fb4f8"><div class="ttname"><a href="classgoon_1_1Floodfiller.html#ae41306e2f807c08973b4d0d65a3fb4f8">goon::Floodfiller::~Floodfiller</a></div><div class="ttdeci">~Floodfiller()</div><div class="ttdef"><b>Definition:</b> Floodfiller.cpp:28</div></div>
<div class="ttc" id="classgoon_1_1Floodfiller_html_a58c822529012caca169601ea7c195b87"><div class="ttname"><a href="classgoon_1_1Floodfiller.html#a58c822529012caca169601ea7c195b87">goon::Floodfiller::t</a></div><div class="ttdeci">std::thread t</div><div class="ttdef"><b>Definition:</b> Floodfiller.h:46</div></div>
<div class="ttc" id="classgoon_1_1ColorGrid_html"><div class="ttname"><a href="classgoon_1_1ColorGrid.html">goon::ColorGrid</a></div><div class="ttdef"><b>Definition:</b> ColorGrid.h:15</div></div>
<div class="ttc" id="classgoon_1_1Floodfiller_html_a8c6a29e02576fe80e364e4f4ce63ac64"><div class="ttname"><a href="classgoon_1_1Floodfiller.html#a8c6a29e02576fe80e364e4f4ce63ac64">goon::Floodfiller::Floodfiller</a></div><div class="ttdeci">Floodfiller()</div><div class="ttdef"><b>Definition:</b> Floodfiller.cpp:19</div></div>
<div class="ttc" id="classgoon_1_1Floodfiller_html_ac10fcb67a9f95d55d39505b4ce8b3c7d"><div class="ttname"><a href="classgoon_1_1Floodfiller.html#ac10fcb67a9f95d55d39505b4ce8b3c7d">goon::Floodfiller::getRegionColor</a></div><div class="ttdeci">cv::Vec3f &amp; getRegionColor()</div><div class="ttdef"><b>Definition:</b> Floodfiller.cpp:212</div></div>
<div class="ttc" id="classgoon_1_1Floodfiller_html_a3b331258628f55384e5d539c5722876b"><div class="ttname"><a href="classgoon_1_1Floodfiller.html#a3b331258628f55384e5d539c5722876b">goon::Floodfiller::isFinished</a></div><div class="ttdeci">bool isFinished()</div><div class="ttdef"><b>Definition:</b> Floodfiller.cpp:191</div></div>
<div class="ttc" id="classgoon_1_1Floodfiller_html"><div class="ttname"><a href="classgoon_1_1Floodfiller.html">goon::Floodfiller</a></div><div class="ttdef"><b>Definition:</b> Floodfiller.h:31</div></div>
<div class="ttc" id="classgoon_1_1Floodfiller_html_aa22bcf00c31ca313538b0a98f40bbbfa"><div class="ttname"><a href="classgoon_1_1Floodfiller.html#aa22bcf00c31ca313538b0a98f40bbbfa">goon::Floodfiller::logger</a></div><div class="ttdeci">static log4cxx::LoggerPtr logger</div><div class="ttdef"><b>Definition:</b> Floodfiller.h:44</div></div>
<div class="ttc" id="classgoon_1_1Floodfiller_html_a7ff3344a3615b0d93615584de2f9dc62"><div class="ttname"><a href="classgoon_1_1Floodfiller.html#a7ff3344a3615b0d93615584de2f9dc62">goon::Floodfiller::state</a></div><div class="ttdeci">int state</div><div class="ttdef"><b>Definition:</b> Floodfiller.h:47</div></div>
<div class="ttc" id="classgoon_1_1Floodfiller_html_a13ee623d4f2f885bef0b8364f4af32f6"><div class="ttname"><a href="classgoon_1_1Floodfiller.html#a13ee623d4f2f885bef0b8364f4af32f6">goon::Floodfiller::getRegionMask</a></div><div class="ttdeci">cv::Mat &amp; getRegionMask()</div><div class="ttdef"><b>Definition:</b> Floodfiller.cpp:202</div></div>
<div class="ttc" id="classgoon_1_1Floodfiller_html_a558e35bb49d2cfd4a5f99c7644b60d9a"><div class="ttname"><a href="classgoon_1_1Floodfiller.html#a558e35bb49d2cfd4a5f99c7644b60d9a">goon::Floodfiller::image_hsv</a></div><div class="ttdeci">cv::Mat image_hsv</div><div class="ttdef"><b>Definition:</b> Floodfiller.h:54</div></div>
<div class="ttc" id="Exploration_8h_html"><div class="ttname"><a href="Exploration_8h.html">Exploration.h</a></div></div>
<div class="ttc" id="classgoon_1_1Floodfiller_html_a8c91f60ef755ca415df4f84f32bab18a"><div class="ttname"><a href="classgoon_1_1Floodfiller.html#a8c91f60ef755ca415df4f84f32bab18a">goon::Floodfiller::GRID_STEP</a></div><div class="ttdeci">static const int GRID_STEP</div><div class="ttdef"><b>Definition:</b> Floodfiller.h:34</div></div>
<div class="ttc" id="classgoon_1_1Floodfiller_html_a76845020ff89e97faf1e910122d26b32"><div class="ttname"><a href="classgoon_1_1Floodfiller.html#a76845020ff89e97faf1e910122d26b32">goon::Floodfiller::isOn</a></div><div class="ttdeci">bool isOn()</div><div class="ttdef"><b>Definition:</b> Floodfiller.cpp:185</div></div>
<div class="ttc" id="classgoon_1_1Trigger_html"><div class="ttname"><a href="classgoon_1_1Trigger.html">goon::Trigger</a></div><div class="ttdef"><b>Definition:</b> trigger.h:13</div></div>
<div class="ttc" id="classgoon_1_1Floodfiller_html_a6f83ca7ae9bcd2ed68d642c691cae2fd"><div class="ttname"><a href="classgoon_1_1Floodfiller.html#a6f83ca7ae9bcd2ed68d642c691cae2fd">goon::Floodfiller::setState</a></div><div class="ttdeci">void setState(int value)</div><div class="ttdef"><b>Definition:</b> Floodfiller.cpp:44</div></div>
<div class="ttc" id="classgoon_1_1Floodfiller_html_ac33f104ef76180ed9afafec027358743a327e239c33a7e8c92baa37b42c1b27f1"><div class="ttname"><a href="classgoon_1_1Floodfiller.html#ac33f104ef76180ed9afafec027358743a327e239c33a7e8c92baa37b42c1b27f1">goon::Floodfiller::eFF_OFF</a></div><div class="ttdef"><b>Definition:</b> Floodfiller.h:37</div></div>
<div class="ttc" id="classgoon_1_1Floodfiller_html_ac33f104ef76180ed9afafec027358743a8b195061989c146f34446260146aa1a5"><div class="ttname"><a href="classgoon_1_1Floodfiller.html#ac33f104ef76180ed9afafec027358743a8b195061989c146f34446260146aa1a5">goon::Floodfiller::eFF_ON</a></div><div class="ttdef"><b>Definition:</b> Floodfiller.h:39</div></div>
<div class="ttc" id="classgoon_1_1Floodfiller_html_ac33f104ef76180ed9afafec027358743adfaf8aa02155a2f020b6c2ae000e74d0"><div class="ttname"><a href="classgoon_1_1Floodfiller.html#ac33f104ef76180ed9afafec027358743adfaf8aa02155a2f020b6c2ae000e74d0">goon::Floodfiller::eFF_FINISHED</a></div><div class="ttdef"><b>Definition:</b> Floodfiller.h:40</div></div>
</div><!-- fragment --></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Fri Jan 29 2016 15:29:56 for goon by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.6
</small></address>
</body>
</html>
